# Plan 05-01: Returns Frontend

## Context

Phase 5 creates the frontend UI for eBay returns management.
Builds on Phase 4 (Returns API endpoints).

**Patterns from existing frontend**:
- Vue 3 Composition API with `<script setup>`
- PrimeVue components (DataTable, Dialog, Button, Tag, Card)
- Composables for API calls and business logic
- Tailwind CSS for styling
- TypeScript types in `types/`

## Tasks

### Task 1: Create TypeScript Types

**Goal**: Add return types to types/ebay.ts.

**Types created**:
- `EbayReturnStatus` - Status enum
- `EbayReturnState` - State enum (OPEN/CLOSED)
- `EbayReturn` - Main return interface
- `EbayReturnListResponse` - Paginated list response
- `EbayReturnStatistics` - Statistics response
- `EbayReturnSyncResponse` - Sync response
- `EbayReturnActionResponse` - Action response

### Task 2: Create useEbayReturns Composable

**Goal**: Create composable for returns API calls.

**File created**:
- `composables/useEbayReturns.ts`

**Methods**:
- `fetchReturns(params)` - Get paginated returns
- `fetchReturn(id)` - Get single return
- `fetchReturnsNeedingAction()` - Get returns needing action
- `fetchReturnsPastDeadline()` - Get overdue returns
- `fetchStatistics()` - Get return stats
- `syncReturns(params)` - Sync from eBay
- `acceptReturn(id, options)` - Accept return
- `declineReturn(id, comments)` - Decline return
- `issueRefund(id, options)` - Issue refund
- `markAsReceived(id, comments)` - Mark as received
- `sendMessage(id, message)` - Send message
- Helper methods for labels/severities

### Task 3: Create ReturnsDataTable Component

**Goal**: Create DataTable component for returns list.

**File created**:
- `components/ebay/ReturnsDataTable.vue`

**Features**:
- Lazy loading pagination
- Columns: Return ID, Order, Buyer, Reason, Amount, Status, State, Deadline, Created
- Past deadline indicator
- Row click navigation
- Empty state with sync button

### Task 4: Create Returns List Page

**Goal**: Create main returns list page.

**File created**:
- `pages/dashboard/platforms/ebay/returns/index.vue`

**Features**:
- Stats cards (Open, Needs Action, Past Deadline, Closed)
- Search by return ID, order, buyer
- Filter by state and status
- Sync and refresh buttons
- DataTable with pagination

### Task 5: Create Return Detail Page

**Goal**: Create return detail page with actions.

**File created**:
- `pages/dashboard/platforms/ebay/returns/[id].vue`

**Features**:
- Status cards (State, Status, Refund Amount)
- Alert banners for past deadline / needs action
- Action buttons (Accept, Decline, Refund, Mark Received, Send Message)
- Information cards (Return Info, Buyer, Reason, Tracking, Dates, Refund)
- Modal dialogs for each action

---

## Execution Order

1. **Task 1**: Create TypeScript types
2. **Task 2**: Create useEbayReturns composable
3. **Task 3**: Create ReturnsDataTable component
4. **Task 4**: Create returns list page
5. **Task 5**: Create return detail page

---

*Plan created: 2026-01-13*
